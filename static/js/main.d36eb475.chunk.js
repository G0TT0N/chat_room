(window.webpackJsonpchat_room=window.webpackJsonpchat_room||[]).push([[0],{156:function(e,a,t){e.exports=t.p+"static/media/wave.2b8196a5.svg"},157:function(e,a,t){e.exports=t.p+"static/media/play.3a10db5c.svg"},158:function(e,a,t){e.exports=t.p+"static/media/pause.a61933e8.svg"},160:function(e,a,t){e.exports=t.p+"static/media/readed.c1f419d6.svg"},161:function(e,a,t){e.exports=t.p+"static/media/noreaded.3c841bf6.svg"},176:function(e,a,t){e.exports=t(378)},187:function(e,a,t){},229:function(e,a,t){},230:function(e,a,t){},231:function(e,a,t){},375:function(e,a,t){},376:function(e,a,t){},377:function(e,a,t){},378:function(e,a,t){"use strict";t.r(a);var n=t(0),l=t.n(n),r=t(13),s=t.n(r),c=t(32),i=t(148),m=t(149),o=t(172),u=t(150),d=t(174),p=t(33),E=t(80),g=t(379),f=t(380),v=t(19),_=t(84),h=(t(187),t(2)),b=t.n(h),N=function(e){return l.a.createElement(_.a,Object.assign({},e,{className:b()("button",e.className,{"button--large":"large"===e.size})}))},y=(t(229),function(e){var a=e.children,t=e.className;return l.a.createElement("div",{className:b()("block",t)},a)}),w=t(171),x=(t(230),t(156)),O=t.n(x),j=t(157),k=t.n(j),S=t(158),z=t.n(S),I=function(e){var a=e.avatar,t=e.user,r=e.text,s=e.date,c=e.audio,i=e.isMe,m=e.isReaded,o=e.attachments,u=e.isTyping,d=Object(n.useState)(!1),p=Object(w.a)(d,2),E=p[0],g=p[1],f=Object(n.useRef)(null);Object(n.useEffect)(function(){f.current.addEventListener("playing",function(){g(!0)},!1),f.current.addEventListener("ended",function(){g(!1)},!1)},[]);return l.a.createElement("div",{className:b()("message",{"message--isme":i,"message--is-typing":u,"message--is-audio":c,"message--image":o&&1===o.length})},l.a.createElement("div",{className:"message__content"},l.a.createElement(L,{isMe:i,isReaded:m}),l.a.createElement("div",{className:"message__avatar"},l.a.createElement("img",{src:a,alt:"Avatar ".concat(t.fullname)})),l.a.createElement("div",{className:"message__info"},(c||r||u)&&l.a.createElement("div",{className:"message__bubble"},r&&l.a.createElement("p",{className:"message__text"},r),u&&l.a.createElement("div",{className:"message__typing"},l.a.createElement("span",null),l.a.createElement("span",null),l.a.createElement("span",null)),c&&l.a.createElement("div",{className:"message__audio"},l.a.createElement("audio",{ref:f,src:c,preload:"auto"}),l.a.createElement("div",{className:"message__audio-progress"}),l.a.createElement("div",{className:"message__audio-info"},l.a.createElement("div",{className:"message__audio-btn"},l.a.createElement("button",{onClick:function(){f.current.volume="0.01",E?f.current.pause():f.current.play()}},E?l.a.createElement("img",{src:z.a,alt:"pause"}):l.a.createElement("img",{src:k.a,alt:"play"}))),l.a.createElement("div",{className:"message__audio-wave"},l.a.createElement("img",{src:O.a,alt:"wave"})),l.a.createElement("span",{className:"message__audio-duration"},"00:11")))),o&&l.a.createElement("div",{className:"message__attachments"},o.map(function(e){return l.a.createElement("div",{className:"message__attachments-item"},l.a.createElement("img",{src:e.url,alt:e.filename}))})),s&&l.a.createElement("span",{className:"message__date"},l.a.createElement(J,{date:s})))))};I.defaultProps={user:{}};var R=I,A=(t(231),t(114)),C=t(173),M=function(e){var a=e.user,t=e.unreaded,n=e.isMe,r=e.created_at,s=e.text;return l.a.createElement("div",{className:b()("dialogs__item",{"dialogs__item--online":a.isOnline})},l.a.createElement("div",{className:"dialogs__item-avatar"},function(e){if(e)return l.a.createElement("img",{src:e,alt:""})}(a.avatar)),l.a.createElement("div",{className:"dialogs__item-info"},l.a.createElement("div",{className:"dialogs__item-info-top"},l.a.createElement("b",null,a.fullname),l.a.createElement("span",null,function(e){return Object(C.a)(e)?Object(A.a)(e,"HH:mm"):Object(A.a)(e,"dd.MM.yy")}(r))),l.a.createElement("div",{className:"dialogs__item-info-bottom"},l.a.createElement("p",null,s),n&&l.a.createElement(L,{isMe:!0,isReaded:!0}),t>0&&l.a.createElement("div",{className:"dialogs__item-info-bottom-count"},t))))},F=t(169),B=t(159),T=t.n(B),J=function(e){var a=e.date;return l.a.createElement(n.Fragment,null,Object(F.a)(a,{addSuffix:!0,locale:T.a}))},Z=t(160),H=t.n(Z),P=t(161),D=t.n(P),L=function(e){var a=e.isMe,t=e.isReaded;return a&&(t?l.a.createElement("img",{className:"message__icon-readed",src:H.a,alt:"readedSvg"}):l.a.createElement("img",{className:"message__icon-readed",src:D.a,alt:"noreadedSvg"}))},V=t(162),Y=t.n(V),U=function(e){var a=e.items,t=e.userId;return l.a.createElement("div",{className:"dialogs"},Y()(a,["created_at"],["desc"]).map(function(e){return l.a.createElement(M,Object.assign({key:e._id,isMe:e.user._id===t},e))}))},$=function(e,a,t){return a[e]?t[e]?"error":"success":""},q=function(e){var a=e.values,t=e.touched,n=e.errors,r=e.handleChange,s=e.handleBlur,i=e.handleSubmit;return l.a.createElement("div",null,l.a.createElement("div",{className:"auth__top"},l.a.createElement("h2",null,"\u0412\u043e\u0439\u0442\u0438 \u0432 \u0430\u043a\u043a\u0430\u0443\u043d\u0442"),l.a.createElement("p",null,"\u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u0432\u043e\u0439\u0434\u0438\u0442\u0435 \u0432 \u0441\u0432\u043e\u0439 \u0430\u043a\u043a\u0430\u0443\u043d\u0442")),l.a.createElement(y,null,l.a.createElement(g.a,{onSubmit:i,className:"login-form"},l.a.createElement(g.a.Item,{validateStatus:$("email",t,n),help:t.email?n.email:"",hasFeedback:!0},l.a.createElement(f.a,{prefix:l.a.createElement(v.a,{type:"user",style:{color:"rgba(0,0,0,.25)"}}),placeholder:"Username",size:"large",id:"email",value:a.email,onChange:r,onBlur:s})),l.a.createElement(g.a.Item,{validateStatus:$("password",t,n),help:t.password?n.password:"",hasFeedback:!0},l.a.createElement(f.a,{prefix:l.a.createElement(v.a,{type:"lock",style:{color:"rgba(0,0,0,.25)"}}),type:"password",placeholder:"\u041f\u0430\u0440\u043e\u043b\u044c",size:"large",id:"password",value:a.password,onChange:r,onBlur:s})),l.a.createElement(g.a.Item,null,l.a.createElement(N,{type:"primary",htmlType:"submit",size:"large"},"\u0412\u043e\u0439\u0442\u0438 \u0432 \u0430\u043a\u043a\u0430\u0443\u043d\u0442")),l.a.createElement(c.b,{className:"auth__register-link",to:"/register"},"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f"))))},G=function(e){var a=e.isAuth,t=e.values,n=e.errors,l={email:function(e){e?/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(e)||(n.email="\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u044b\u0439 \u0430\u0434\u0440\u0435\u0441"):n.email="\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0430\u0434\u0440\u0435\u0441"},password:function(e){e?/(?=.*\d)(?=.*[a-z])(?=.*[A-Z])[0-9a-zA-Z]{8,}/i.test(e)||(n.password=a?"\u041d\u0435\u0432\u0435\u0440\u043d\u044b\u0439 \u043f\u0430\u0440\u043e\u043b\u044c":"\u0421\u043b\u0438\u0448\u043a\u043e\u043c \u043b\u0435\u0433\u043a\u0438\u0439 \u043f\u0430\u0440\u043e\u043b\u044c"):n.password="\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043f\u0430\u0440\u043e\u043b\u044c"}};Object.keys(t).forEach(function(e){return l[e]&&l[e](t[e])})},K=Object(E.a)({enableReinitialize:!0,mapPropsToValues:function(){return{email:"",password:""}},validate:function(e){var a={};return G({isAuth:!1,values:e,errors:a}),a},handleSubmit:function(e,a){var t=a.setSubmitting;setTimeout(function(){alert(JSON.stringify(e,null,2)),t(!1)},1e3)},displayName:"RegisterForm"})(q),Q=function(e){var a=e.values,t=e.touched,n=e.errors,r=e.handleChange,s=e.handleBlur,i=e.handleSubmit;return l.a.createElement("div",null,l.a.createElement("div",{className:"auth__top"},l.a.createElement("h2",null,"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"),l.a.createElement("p",null,"\u0414\u043b\u044f \u0432\u0445\u043e\u0434\u0430 \u0432 \u0447\u0430\u0442, \u0432\u0430\u043c \u043d\u0443\u0436\u043d\u043e \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f")),l.a.createElement(y,null,l.a.createElement(g.a,{onSubmit:i,className:"login-form"},l.a.createElement(g.a.Item,{validateStatus:$("email",t,n),help:t.email?n.email:"",hasFeedback:!0},l.a.createElement(f.a,{id:"email",prefix:l.a.createElement(v.a,{type:"mail",style:{color:"rgba(0,0,0,.25)"}}),placeholder:"E-mail",size:"large",value:a.email,onChange:r,onBlur:s})),l.a.createElement(g.a.Item,null,l.a.createElement(f.a,{prefix:l.a.createElement(v.a,{type:"user",style:{color:"rgba(0,0,0,.25)"}}),placeholder:"\u0412\u0430\u0448\u0435 \u0438\u043c\u044f",size:"large"})),l.a.createElement(g.a.Item,{validateStatus:$("password",t,n),help:t.password?n.password:"",hasFeedback:!0},l.a.createElement(f.a,{prefix:l.a.createElement(v.a,{type:"lock",style:{color:"rgba(0,0,0,.25)"}}),type:"password",placeholder:"\u041f\u0430\u0440\u043e\u043b\u044c",size:"large",id:"password",value:a.password,onChange:r,onBlur:s})),l.a.createElement(g.a.Item,{validateStatus:$("password",t,n),help:t.password?n.password:"",hasFeedback:!0},l.a.createElement(f.a,{prefix:l.a.createElement(v.a,{type:"lock",style:{color:"rgba(0,0,0,.25)"}}),type:"password",placeholder:"\u041f\u043e\u0432\u0442\u043e\u0440\u0438\u0442\u0435 \u043f\u0430\u0440\u043e\u043b\u044c",size:"large"})),l.a.createElement(g.a.Item,null,l.a.createElement(N,{type:"primary",htmlType:"submit",size:"large",onClick:i},"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f")),l.a.createElement(g.a.Item,null,l.a.createElement(c.b,{className:"auth__register__link",to:"/login"},"\u0412\u043e\u0439\u0442\u0438 \u0432 \u0430\u043a\u043a\u0430\u0443\u043d\u0442")))))},W=Object(E.a)({enableReinitialize:!0,mapPropsToValues:function(){return{email:"",fullname:"",password:"",rePassword:""}},validate:function(e){var a={};return G({isAuth:!1,values:e,errors:a}),a},handleSubmit:function(e,a){var t=a.setSubmitting;setTimeout(function(){alert(JSON.stringify(e,null,2)),t(!1)},1e3)},displayName:"RegisterForm"})(Q),X=(t(375),function(){return l.a.createElement("section",{className:"auth"},l.a.createElement("div",{className:"auth__content"},l.a.createElement(p.a,{exact:!0,path:["/","/login"],component:K}),l.a.createElement(p.a,{exact:!0,path:"/register",component:W})))}),ee=(t(376),function(){return l.a.createElement("section",{className:"home"},l.a.createElement(U,{userId:0,items:[{text:"Hello 1",isReaded:!1,created_at:new Date(2019,8,10,11,11),user:{_id:1,fullname:"Name 1",avatar:null}},{text:"Hello 2",isReaded:!0,created_at:new Date,user:{_id:2,fullname:"Name 2",avatar:null}}]}),l.a.createElement(R,{avatar:"https://sun1-87.userapi.com/c852016/v852016997/1b674f/ybYJetYzEIk.jpg?ava=1",isMe:"",date:new Date,audio:"https://notificationsounds.com/soundfiles/069059b7ef840f0c74a814ec9237b6ec/file-de_vuvuzela-power-down.wav"}))}),ae=function(e){function a(){return Object(i.a)(this,a),Object(o.a)(this,Object(u.a)(a).apply(this,arguments))}return Object(d.a)(a,e),Object(m.a)(a,[{key:"render",value:function(){return l.a.createElement("div",{className:"wrapper"},l.a.createElement(p.a,{exact:!0,path:["/","/login","/register"],component:X}),l.a.createElement(p.a,{exact:!0,path:"/im",component:ee}))}}]),a}(n.Component);t(377);s.a.render(l.a.createElement(c.a,{basename:"/chat_room"},l.a.createElement(ae,null)),document.getElementById("root"))}},[[176,1,2]]]);
//# sourceMappingURL=main.d36eb475.chunk.js.map